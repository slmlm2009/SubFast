# SubFast Architecture Document

## Table of Contents

- [SubFast Architecture Document](#table-of-contents)
  - [Change Log](./change-log.md)
  - [Introduction](./introduction.md)
  - [High Level Architecture](./high-level-architecture.md)
    - [Technical Summary](./high-level-architecture.md#technical-summary)
    - [High Level Architecture Diagram](./high-level-architecture.md#high-level-architecture-diagram)
    - [Repository Structure](./high-level-architecture.md#repository-structure)
    - [Architectural Patterns](./high-level-architecture.md#architectural-patterns)
  - [Tech Stack](./tech-stack.md)
    - [Core Technology Stack](./tech-stack.md#core-technology-stack)
    - [Development & Testing Tools](./tech-stack.md#development-testing-tools)
    - [Deployment & Distribution](./tech-stack.md#deployment-distribution)
    - [Windows-Specific Considerations](./tech-stack.md#windows-specific-considerations)
  - [Data Models](./data-models.md)
    - [VideoFile](./data-models.md#videofile)
    - [SubtitleFile](./data-models.md#subtitlefile)
    - [EpisodeInfo](./data-models.md#episodeinfo)
    - [MatchedPair](./data-models.md#matchedpair)
    - [ProcessingResult](./data-models.md#processingresult)
    - [Configuration](./data-models.md#configuration)
  - [Components](./components.md)
    - [1. Configuration Loader](./components.md#1-configuration-loader)
    - [2. File Matcher Engine](./components.md#2-file-matcher-engine)
    - [3. Pattern Recognition Engine](./components.md#3-pattern-recognition-engine)
    - [4. Renaming Processor](./components.md#4-renaming-processor)
    - [5. Embedding Processor](./components.md#5-embedding-processor)
    - [6. Command Builder](./components.md#6-command-builder)
    - [7. Process Runner](./components.md#7-process-runner)
    - [8. CSV Reporter](./components.md#8-csv-reporter)
    - [9. Error Handler](./components.md#9-error-handler)
    - [10. Smart Console Manager](./components.md#10-smart-console-manager)
  - [Component Interaction Diagram](./component-interaction-diagram.md)
  - [Core Workflows](./core-workflows.md)
    - [Workflow 1: Subtitle Renaming](./core-workflows.md#workflow-1-subtitle-renaming)
    - [Workflow 2: Subtitle Embedding](./core-workflows.md#workflow-2-subtitle-embedding)
  - [Unified Project Structure](./unified-project-structure.md)
    - [Directory Purpose:](./unified-project-structure.md#directory-purpose)
  - [Development Workflow](./development-workflow.md)
    - [Local Development Setup](./development-workflow.md#local-development-setup)
    - [Manual Testing](./development-workflow.md#manual-testing)
    - [Unit Testing](./development-workflow.md#unit-testing)
    - [Configuration Testing](./development-workflow.md#configuration-testing)
  - [Deployment and Distribution](./deployment-and-distribution.md)
    - [Installation Process](./deployment-and-distribution.md#installation-process)
    - [Distribution Variants](./deployment-and-distribution.md#distribution-variants)
    - [Uninstallation](./deployment-and-distribution.md#uninstallation)
    - [Update Process](./deployment-and-distribution.md#update-process)
  - [Security Considerations](./security-considerations.md)
    - [Input Validation](./security-considerations.md#input-validation)
    - [Subprocess Security](./security-considerations.md#subprocess-security)
    - [File System Security](./security-considerations.md#file-system-security)
    - [Privacy](./security-considerations.md#privacy)
    - [Registry Integration Security](./security-considerations.md#registry-integration-security)
  - [Error Handling Strategy](./error-handling-strategy.md)
    - [Error Categories and Responses](./error-handling-strategy.md#error-categories-and-responses)
      - [1. Configuration Errors](./error-handling-strategy.md#1-configuration-errors)
      - [2. File System Errors](./error-handling-strategy.md#2-file-system-errors)
      - [3. mkvmerge Errors](./error-handling-strategy.md#3-mkvmerge-errors)
      - [4. Pattern Matching Failures](./error-handling-strategy.md#4-pattern-matching-failures)
    - [Error Logging Format](./error-handling-strategy.md#error-logging-format)
    - [Exit Codes](./error-handling-strategy.md#exit-codes)
  - [Performance Optimization](./performance-optimization.md)
    - [Current Performance Metrics](./performance-optimization.md#current-performance-metrics)
    - [Optimization Strategies](./performance-optimization.md#optimization-strategies)
      - [1. Regex Compilation (Renaming)](./performance-optimization.md#1-regex-compilation-renaming)
      - [2. Episode Number Caching (Renaming)](./performance-optimization.md#2-episode-number-caching-renaming)
      - [3. CSV Export Optionality (Both Scripts)](./performance-optimization.md#3-csv-export-optionality-both-scripts)
      - [4. Disk Space Pre-Check (Embedding)](./performance-optimization.md#4-disk-space-pre-check-embedding)
      - [5. Memory Efficiency (Both Scripts)](./performance-optimization.md#5-memory-efficiency-both-scripts)
    - [Performance Testing](./performance-optimization.md#performance-testing)
  - [Testing Strategy](./testing-strategy.md)
    - [Testing Philosophy](./testing-strategy.md#testing-philosophy)
    - [Test Organization](./testing-strategy.md#test-organization)
    - [Unit Tests](./testing-strategy.md#unit-tests)
      - [Pattern Recognition Tests](./testing-strategy.md#pattern-recognition-tests)
      - [Configuration Tests](./testing-strategy.md#configuration-tests)
    - [Manual Testing Scenarios](./testing-strategy.md#manual-testing-scenarios)
      - [Renaming Test Cases](./testing-strategy.md#renaming-test-cases)
      - [Embedding Test Cases](./testing-strategy.md#embedding-test-cases)
    - [Real-World Validation](./testing-strategy.md#real-world-validation)
  - [Coding Standards](./coding-standards.md)
    - [Python Version and Compatibility](./coding-standards.md#python-version-and-compatibility)
    - [Code Style and Linting](./coding-standards.md#code-style-and-linting)
    - [Critical Rules for AI Agents](./coding-standards.md#critical-rules-for-ai-agents)
      - [1. Subprocess Pattern](./coding-standards.md#1-subprocess-pattern)
      - [2. Path Handling](./coding-standards.md#2-path-handling)
      - [3. Error Handling](./coding-standards.md#3-error-handling)
      - [4. Configuration Defaults](./coding-standards.md#4-configuration-defaults)
      - [5. Logging vs. Printing](./coding-standards.md#5-logging-vs-printing)
      - [6. Atomic File Operations](./coding-standards.md#6-atomic-file-operations)
    - [Naming Conventions](./coding-standards.md#naming-conventions)
    - [Documentation Standards](./coding-standards.md#documentation-standards)
  - [Monitoring and Maintenance](./monitoring-and-maintenance.md)
    - [Monitoring Capabilities](./monitoring-and-maintenance.md#monitoring-capabilities)
      - [1. Console Output](./monitoring-and-maintenance.md#1-console-output)
      - [2. CSV Reports (Optional)](./monitoring-and-maintenance.md#2-csv-reports-optional)
      - [3. Windows Event Log (Not Implemented)](./monitoring-and-maintenance.md#3-windows-event-log-not-implemented)
    - [Maintenance Considerations](./monitoring-and-maintenance.md#maintenance-considerations)
      - [Pattern Updates](./monitoring-and-maintenance.md#pattern-updates)
      - [mkvmerge Updates](./monitoring-and-maintenance.md#mkvmerge-updates)
      - [Configuration Schema Evolution](./monitoring-and-maintenance.md#configuration-schema-evolution)
      - [Python Version Migration](./monitoring-and-maintenance.md#python-version-migration)
    - [Known Limitations](./monitoring-and-maintenance.md#known-limitations)
    - [Future Enhancement Ideas](./monitoring-and-maintenance.md#future-enhancement-ideas)
  - [Next Steps](./next-steps.md)
    - [For Development Team](./next-steps.md#for-development-team)
    - [For Users](./next-steps.md#for-users)
    - [For Architect](./next-steps.md#for-architect)
